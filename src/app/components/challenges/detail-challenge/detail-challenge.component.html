<app-header></app-header>
<ng-template #skeleton>
  <app-skeleton-detail-challenge></app-skeleton-detail-challenge>
</ng-template>
<div *ngIf="!loading; else skeleton">
<section class="image_menu_about">
  <div class="container">
    <div 
      class="color" 
      [ngStyle]="{'background-image': 'linear-gradient(0deg, rgba(0, 0, 0, 0.30) 0%, rgba(0, 0, 0, 0.30) 100%), url(' + challenge.banner + ')'}">
    </div>
    <h3>{{challenge.post_title}} </h3>
  </div>
</section>
<section class="jobs">
    <div class="" style="position: relative;">
      <div class="container-fluid">
        <div class="d-flex justify-content-between align-items-center participant">
          <div class="d-flex container-fluid align-items-center align" style="padding-left: 0;">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 512 512">
              <path d="M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"/></svg>       
              <p class="ml-2" style="margin-bottom: 0;"> <strong>This Challenges closes in: </strong> {{remainingTime}} </p>
          </div>
          <div class="d-flex align-items-center justify-content-between" >
              <div class="name-cv text-align-center d-flex direction-column" style="flex-direction:column;justify-content:center;align-items:center ">
                    <div class="content-img-participants">
                      <img src="../../../../assets/img/Icon_ionic-ios-people.png" alt="Job Image">
                    </div>
                  <p class="" style="color: #BDBDBD;font-size:14px;">Participants</p>
              </div>
              <p><strong>{{challenge.total_participants}}</strong></p>
          </div>
        </div>
      </div>
     <div class="container-fluid">
      <hr class="soulign">
     </div>
      <div class="container-fluid">
        <p class="description-text">Overview:Youth unemployement is pression socio-economic issu,with a large percentage of the young <br>
          population facing difficulties in accessing stable and miningful employement.Depsite economic growth in recent <br>
          years,the country still struggles to create enough jobs to much the growing of job-seekers.This challenges <br>
          aims to find innovative and substainable solution to provide more employment opportunities four young Senegalese,<br>
            adressing both immediate job creation and long-term economic resilience
        </p>
        <p class="description-text">
          Context:Senegal,like many African nations,is experiencing a young bulge,with over 60% of population under the <br>
          age of 25.While the demographic shift presents immense potential for driving growth,it also poses a <br>
          challenge due to the limit number of available jobs,pariculary in formal sectors.Youth unemployement can lead to <br>
          increased social instability,poverty,and emigration,as young people search for better opportunities abroad.Key <br>
          factors contributing to this issue include:
        </p>
        <p class="description-text">
          A mismatch between  education and market needs.<br>
          Lack of access to capital and ressources for entrepreneurship.<br>
          Over-reliance on traditionnal  sectors (agriculture and informal trade).<br>
          Slow growth in industrial and technology sectors.<br>
          Regional disparities,with rural areas experiencing more servere job shortages.<br>
          Challenge Objective:The Objective of this challenge is to develop pratical,scalable,and sustainable straitegies that <br>
          can create more job opportunities for Senegalese young,especially in emerging sectors.The solutions should adress <br>
          both immediate job creation and structural improvements in the labor market to ensure long-term employment <br>
          propects.
        </p>
      </div>
      <div class="container-fluid mt-4" >
        <div class="topic" style="border: 1px solid #BDBDBD;border-radius:8px;padding:10px 20px;">
          <p style="font-weight:bold ;font-size:14px;margin:0">Topic for this challenge</p>
          <hr>
          <div class="d-flex" *ngFor="let skill of challenge.skills">
            <p style="font-weight:bold ;font-size:14px;background-color:#DFEBF2;padding:5px 15px;border-radius:8px;margin-right:20px">{{skill.name}}
          <!--  <button style="border: 1px solid #BDBDBD;background-color:transparent;font-size:14px;padding:4px 14px;border-radius:8px;text-align:right"   data-bs-toggle="modal"  data-target="#modal-connect">Follow</button>-->
            </p>
          </div>
          <div class="d-flex" *ngIf="challenge.skills==[]">
            <p style="font-weight:bold ;font-size:14px;background-color:#DFEBF2;padding:5px 15px;border-radius:8px;margin-right:20px">Topic is not avalaible now
          <!--  <button style="border: 1px solid #BDBDBD;background-color:transparent;font-size:14px;padding:4px 14px;border-radius:8px;text-align:right"   data-bs-toggle="modal"  data-target="#modal-connect">Follow</button>-->
            </p>
          </div>
        </div>
      
      </div>
    </div>
    <div class="container-fluid right-menu">
      <div class="col-md-4" >
        <div class="card-emploie" style="background-color:#FFF">
          <div class="content-img a">
            <img [src]=challenge.profile alt="Job Image">
          </div>
          <p class="name-job">{{challenge.post_title}}</p>
          <p class="description-job">{{challenge.content}}</p>
          <div class="content-footer-card align-items-center mt-2">
            <hr class="separate-text">
            <div class="d-flex justify-content-between align-items-center">
              <p class="name-companie">{{challenge.company.title ? challenge.company.title:"LiveLearn"}}</p>
              <div class="d-flex  justify-content-between align-items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 512 512">
                  <path d="M4.1 38.2C1.4 34.2 0 29.4 0 24.6C0 11 11 0 24.6 0L133.9 0c11.2 0 21.7 5.9 27.4 15.5l68.5 114.1c-48.2 6.1-91.3 28.6-123.4 61.9L4.1 38.2zm503.7 0L405.6 191.5c-32.1-33.3-75.2-55.8-123.4-61.9L350.7 15.5C356.5 5.9 366.9 0 378.1 0L487.4 0C501 0 512 11 512 24.6c0 4.8-1.4 9.6-4.1 13.6zM80 336a176 176 0 1 1 352 0A176 176 0 1 1 80 336zm184.4-94.9c-3.4-7-13.3-7-16.8 0l-22.4 45.4c-1.4 2.8-4 4.7-7 5.1L168 298.9c-7.7 1.1-10.7 10.5-5.2 16l36.3 35.4c2.2 2.2 3.2 5.2 2.7 8.3l-8.6 49.9c-1.3 7.6 6.7 13.5 13.6 9.9l44.8-23.6c2.7-1.4 6-1.4 8.7 0l44.8 23.6c6.9 3.6 14.9-2.2 13.6-9.9l-8.6-49.9c-.5-3 .5-6.1 2.7-8.3l36.3-35.4c5.6-5.4 2.5-14.8-5.2-16l-50.1-7.3c-3-.4-5.7-2.4-7-5.1l-22.4-45.4z"/></svg>
                <p class="name-companie">{{challenge.prize}}</p>
              </div>

            </div>
            <hr style="color: #696969">
            <a 
            (click)="postSolution(challenge)"
            class="btn w-100 mt-2" 
            [class.disabled]="!allStep" 
            style="color: #FFF;background-color:#23BC9A;padding:10px;border-radius:8px;font-weight:500" 
            [style.pointer-events]="!allStep ? 'none' : 'auto'">
            Start this challenge        
            </a>
          </div>

        </div>
      </div>
      <div class="col-md-4">
        <div class="card-emploie" style="min-height: 750px;">
          <div class="content-title a">
          <p class="name-job">What do you have to do?</p>
          </div>
          <div class="d-flex" *ngIf="!userObject">
            <hr>
            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="45" viewBox="0 0 448 512" 
            style="fill: white; background-color: #23BC9A; border: 2px solid #cccc; border-radius: 50%; padding: 5px;margin-right:10px;font-weight:bold">
              <path d="M342.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 178.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l80 80c12.5 12.5 32.8 12.5 45.3 0l160-160zm96 128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 402.7 54.6 297.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l256-256z"/>
            </svg>
            <div class="">
              <p class="" style="font-weight: 600;">Create an account Liggeey , in order to <br> participate to challenge.</p>
              <p class="description-job">Youth unployment in Senegal remains a significant issue,<br>with many young people stuggling to find stable <br> employment</p>
              <a class="description-job" style="text-decoration: underline;"  routerLink="/register" > >>Register your account here</a>
            </div>
          </div>
          <div 
          class="d-flex" 
          *ngIf="userObject" 
          [style.opacity]="userObject ? '0.5' : '1'"
          [style.pointer-events]="userObject ? 'none' : 'auto'">
            <hr>
            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="45" viewBox="0 0 448 512" 
              style="fill: white; background-color: #23BC9A; border: 2px solid #cccc; border-radius: 50%; padding: 5px; margin-right:10px; font-weight:bold">
              <path d="M342.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 178.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l80 80c12.5 12.5 32.8 12.5 45.3 0l160-160zm96 128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 402.7 54.6 297.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l256-256z"/>
            </svg>
            <div>
              <p style="font-weight: 600;">Create an account Liggeey , in order to <br> participate to challenge.</p>
              <p class="description-job">Youth unemployment in Senegal remains a significant issue,<br>with many young people struggling to find stable <br> employment</p>
              <a class="description-job" style="text-decoration: underline;">>>Register your account here</a>
            </div>
        </div>
          <hr>
          <div *ngIf="step1; else alternativeTemplate" class="d-flex pass">
            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="45" viewBox="0 0 448 512" 
                 style="fill: white; background-color: #23BC9A; border: 2px solid #cccc; border-radius: 50%; padding: 5px; margin-right:10px; font-weight:bold">
              <path d="M342.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 178.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l80 80c12.5 12.5 32.8 12.5 45.3 0l160-160zm96 128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 402.7 54.6 297.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l256-256z"/>
            </svg>
            <div>
              <p style="font-weight: 600;">Download the free idoGrow app to unlock <br> your skills passport to verify your person.</p>
              <p class="description-job">Youth unemployment in Senegal remains a significant issue,<br>with many young people struggling to find stable <br> employment.</p>
              <a class="description-job" [href]="downloadLink" target="_blank" style="text-decoration: underline;">>>Download the app here</a>
            </div>
          </div>
          
          <ng-template #alternativeTemplate>
            <div class="d-flex pass">
              <svg xmlns="http://www.w3.org/2000/svg" width="50" height="45" viewBox="0 0 448 512" 
                style="fill: #cccc; background-color: transparent;border: 2px solid #cccc; border-radius: 50%; padding: 5px;margin-right:10px;font-weight:bold">
                <path d="M342.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 178.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l80 80c12.5 12.5 32.8 12.5 45.3 0l160-160zm96 128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 402.7 54.6 297.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l256-256z"/>
              </svg>
              <div>
                <p style="font-weight: 600;">Download the free idoGrow app to unlock <br> your skills passport to verify your person.</p>
                <p class="description-job">Youth unemployment in Senegal remains a significant issue,<br>with many young people struggling to find stable <br> employment.</p>
                <a class="description-job" [href]="downloadLink" target="_blank" style="text-decoration: underline;">>>Download the app here</a>
              </div>
            </div>
          </ng-template>
          
          <!--
          <hr>
          <div *ngIf="step2; else alternativeStep2Template" class="d-flex">
            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="45" viewBox="0 0 448 512" 
              style="fill: white; background-color: #23BC9A; border: 2px solid #cccc; border-radius: 50%; padding: 5px; margin-right:10px; font-weight:bold">
              <path d="M342.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 178.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l80 80c12.5 12.5 32.8 12.5 45.3 0l160-160zm96 128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 402.7 54.6 297.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l256-256z"/>
            </svg>
            <div>
              <p style="font-weight: 600;">Pass the following assessment(s) to show <br> you have the right knowledge to participate</p>
              <p class="description-job">Youth unemployment in Senegal remains a significant issue,<br>with many young people struggling to find stable <br> employment.</p>
            </div>
          </div>
          <ng-template #alternativeStep2Template>
            <div class="d-flex">
              <svg xmlns="http://www.w3.org/2000/svg" width="50" height="45" viewBox="0 0 448 512" 
                style="fill: #cccc; background-color: transparent;border: 2px solid #cccc; border-radius: 50%; padding: 5px;margin-right:10px;font-weight:bold">
                <path d="M342.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 178.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l80 80c12.5 12.5 32.8 12.5 45.3 0l160-160zm96 128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 402.7 54.6 297.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l256-256z"/>
              </svg>
              <div>
                <p style="font-weight: 600;">Pass the following assessment(s) to show <br> you have the right knowledge to participate</p>
                <p class="description-job">Youth unemployment in Senegal remains a significant issue,<br>with many young people struggling to find stable <br> employment.</p>
              </div>
            </div>
          </ng-template>
          -->
          <div class="content-footer-card align-items-center">
            <hr>
            <div *ngIf="step3; else step3Template" class="d-flex">
              <svg xmlns="http://www.w3.org/2000/svg" width="50" height="45" viewBox="0 0 448 512" 
                style="fill: white; background-color: #23BC9A; border: 2px solid #cccc; border-radius: 50%; padding: 5px; margin-right:10px; font-weight:bold">
                <path d="M342.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 178.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l80 80c12.5 12.5 32.8 12.5 45.3 0l160-160zm96 128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 402.7 54.6 297.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l256-256z"/>
              </svg>
              <div>
                <p style="font-weight: 600;">Fill in your solution for challenge!!</p>
                <p class="description-job">Youth unemployment in Senegal remains a significant issue,<br>with many young people struggling to find stable <br> employment.</p>
              </div>
            </div>
            
            <ng-template #step3Template>
              <!-- Contenu alternatif si step3 est faux -->
              <div class="d-flex">
                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="45" viewBox="0 0 448 512" 
                  style="fill: #cccc; background-color: transparent;border: 2px solid #cccc; border-radius: 50%; padding: 5px;margin-right:10px;font-weight:bold">
                  <path d="M342.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 178.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l80 80c12.5 12.5 32.8 12.5 45.3 0l160-160zm96 128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 402.7 54.6 297.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l256-256z"/>
                </svg>
                <div>
                  <p style="font-weight: 600;">Fill in your solution for challenge!!</p>
                  <p class="description-job">Youth unemployment in Senegal remains a significant issue,<br>with many young people struggling to find stable <br> employment.</p>
                </div>
              </div>
            </ng-template>
            
            <a 
              (click)="postSolution(challenge)"
              class="btn w-100 mt-2" 
              [class.disabled]="!allStep" 
              style="color: #FFF;background-color:#23BC9A;padding:10px;border-radius:8px;font-weight:500" 
              [style.pointer-events]="!allStep ? 'none' : 'auto'">
              Your Solution
            </a>
          <hr>
          </div>

        </div>
      </div>
    </div>
  
</section>

<div class="modal fade" id="modal-connect" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" >
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="block-login">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Login to Liggeey</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form>
            <div class="my_container_input_1 form-group">
              <label for="username">Username</label>
              <input class = "input" name="username" [(ngModel)]="username"  id="username" type="text" placeholder="Enter your username " aria-label="default input example" id="cnx_user" required>
            </div>
            <div class="my_container_input_2 form-group">
              <label>Password</label>
              <input class = "input" name="password" [(ngModel)]="password"  type="password" placeholder="********" aria-label="default input example" id="cnx_pass" required>
            </div>
            <div class="d-grid">
              <button type="submit" id="login-btn" class="btn btn-forgeet-passwoord" (click)="switchToApplyBlock()"   [disabled]="isLoading">Log In</button>
              <div *ngIf="isLoading" class="loader">Loading...</div>
            </div>
            <div class="d-flex justify-content-center">
              <p class="account-texte mb-0">Don't have an account? <b><a href="/register">Signup</a></b></p>
            </div>

          </form>
        </div>
      </div>

    </div>
  </div>
</div>
</div>
<!--
<app-footers *ngIf="!loading"></app-footers>
-->